<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
	<title></title>
	<style type="text/css">
	  .imgshows{overflow:hidden;position:relative;width:100px;height:100px;}
		
	</style>
</head>
<body>
	<div class="car_show">
		<h1>cars show</h1>
		<ul id="cars">
			<li><a href="#">first car</a></li>
			<li><a href="#">second car</a></li>
			<li><a href="#">third car</a></li>
			
		</ul>
	</div>
	<div class="imgshows"><img id="preview" src="images/topics.gif" alt="car shows" title="cars show"/></div>
	<script type="text/javascript">
		function positionLinks(){//���һ���ܣ������ͣ���ĸ���ӣ���ʾ�ڼ���ͼƬ
		
			var cars = document.getElementById("cars");
			var links = cars.getElementsByTagName("a");
			var preview = document.getElementById("preview");
			preview.style.position = "absolute";
			preview.style.left = "0px";
			preview.style.top = "0px";
			/*�����first������ÿ��linksԪ�ظ�ֵ*/
			/*links[0].onmouseover = function(){
				moveElement("preview",-100,0,10);
			}
			links[1].onmouseover = function(){
				moveElement("preview",-200,0,10);
			}
			links[2].onmouseover = function(){
				moveElement("preview",-300,0,10);
			}*/
			/*�Ľ�һ��д����ѭ�����������for����*/
			for(var i=0; i<links.length; i++){
				/*�������һ��ʼд�ģ�alert(i)ֵ����3����֪��Ϊʲô��һ��Ⱥ���֪�������ڱհ���������ģ��հ��һ�û������Ԥ�������ڴ�*/
				/*links[i].onmouseover = function(){
				  
					moveElement("preview",(i)*(-100),0,10);
					alert(i);
				}*/
				links[i].onmouseover =new  function(){//�����ʵ��first������Ч���õıհ����Ⱥ��д��
					var t =i;
					return function(){
					  moveElement("preview",(t+1)*(-100),0,10);
					}
				}
				
			}
			
		}
		function moveElement(elemId,final_x,final_y,interval){//�����ƶ�
		  if (!document.getElementById) return false;
			if (!document.getElementById(elemId)) return false;
		  var elem = document.getElementById(elemId);
			if (elem.move) {
				clearTimeout(elem.move);
			}
			var offset_x = parseInt(elem.style.left);
			var offset_y = parseInt(elem.style.top);
			var dis = 0;
			if(offset_x == final_x && offset_y == final_y){//�ж��Ƿ�Ŀ�ĵ�
			  return true;
			}
			/*��������ƶ����е���
			if(offset_x < final_x){
				offset_x++;
			}else if(offset_x > final_x){
				offset_x--;
			}
			if(offset_y < final_y){
				offset_y++;
			}else if(offset_y > final_y){
				offset_y--;
			}*/
			/*�Ľ�һ�£������Զ���ƶ��Ķ�㣬��Ľ���ƶ����ٵ�*/
			if(offset_x < final_x){
				dis = Math.ceil(final_x - offset_x)/10;//����'/10'Ϊ�˶�̬�����ƶ��ľ��룬��offset_x��final_x���500��
				                                      //��ô500/10����50px����������100����ô100/10����10px
																							//������Math.ceilΪ�˴������ǵĲ�ֵС��1px�����
				offset_x += dis;
			}else if(offset_x > final_x){
				dis = Math.ceil(offset_x - final_x)/10;//offset_x����final_x��Ҳ���ǳ�����
				offset_x -= dis;
			}
			if(offset_y < final_y){
				dis = Math.ceil(final_y - offset_y)/10;
				offset_y += dis;
			}else if(offset_y > final_y){
				dis = Math.ceil(offset_y - final_y)/10;//offset_y����final_y��Ҳ���ǳ�����
				offset_y -= dis;
			}
			
			elem.style.left = offset_x + "px";
			elem.style.top = offset_y + "px";
			var reap = "moveElement('" + elemId + "'," + final_x + "," + final_y + "," + interval +")";//������Լ�д�ĺ�����ǰһֱ����
																																				//���ã�����Ϊ��������ô������ʱ��Ӧ����elemId����elem
			elem.move = setTimeout(reap,interval);
		}
		positionLinks();
		
	</script>
</body>
</html>