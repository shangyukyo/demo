<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
	<title></title>
</head>
<body>
	<!--<div class="demo">//这个对应js里面的注释的部分即最初函数
    <ul id="list">
        <li class="first"><em></em><span></span><i></i>哈哈，知道我是几吗？</li>
        <li></li>
        <li></li>
        <li class="first">
            <a href="#"><span class="first"></span><span></span></a>
        </li>
    </ul>
	</div>
	-->
	<div>
			<ul id="list">
					<li class="first"><em></em><span></span><i></i></li>
					<li></li>
			</ul>
			
	</div>
	<script type="text/javascript">
		/*最初的函数
		function getListNum(){  
			 var list = document.getElementById("list");
			 var first_li = list.getElementsByClassName("first");
			 alert(first_li.length);
			/* var one = first_li[0].getElementsByTagName("*");//这里的[0]我一开始落掉//了，因为我错误的认为程序智能的知道我这里只有一个first，其实不是，他很笨，需要你明确的告//诉他操作的是哪里的，要给他精确的位置
				alert(one.length);
				var two = first_li[1].getElementsByTagName("*");
				alert(two.length);*/
				/*var i = 0;
				for(i; i<first_li.length; i++){
					 var result = first_li[i].getElementsByTagName("*");
					alert(result.length);        
				}
		}*/


		/*升级版,考虑旧浏览器不支持新的方法ElementsByClassName*/
		function getListNum(node1,classname){
				var node = document.getElementsByTagName(node1);//这里需要告诉程序，传进来  //的node是个什么东西，不然他不知道,他没有想象的那么智能
				if(document.getElementsByClassName){//这里是判断浏览器是否支持方法//getElementsByClassName,所以要用通用的document，而不是node调用
					 return document.getElementsByClassName(classname).length;        
				}else{
					 var result = [];//结果数组
					 //var nums = node.getElementsByTagName("*");
						var nums = node.getElementsByTagName("*");
						for(var i=0; i<nums.length; i++){
								if(nums[i].className.indexOf(classname) != -1){
									result[result.length] = nums[i];
								}                
						}
						return result.length;
				}
		 
		}
				

		alert(getListNum('li',"first"));//这里之所以传字符串的参数，是因为//getElementsByTagName和getElementsByClassName方法的参数要求是字符串
	</script>
</body>
</html>